// Do not edit this file; automatically generated by build.py.
'use strict';

var includes=require("../blockly/generators/Kidtronics/includes.js");Blockly.Kidtronics=new Blockly.Generator("Kidtronics");Blockly.Kidtronics.addReservedWords("var,setup,loop,if,else,for,switch,case,while,do,break,continue,return,goto,define,include,HIGH,LOW,INPUT,OUTPUT,INPUT_PULLUP,true,false,interger, constants,floating,point,void,bookean,char,unsigned,byte,int,word,long,float,double,string,String,array,static, volatile,const,sizeof,pinMode,digitalWrite,digitalRead,analogReference,analogRead,analogWrite,tone,noTone,shiftOut,shitIn,pulseIn,millis,micros,delay,delayMicroseconds,min,max,abs,constrain,map,pow,sqrt,sin,cos,tan,randomSeed,random,lowByte,highByte,bitRead,bitWrite,bitSet,bitClear,bit,attachInterrupt,detachInterrupt,interrupts,noInterrupts");
Blockly.Kidtronics.DeveloperIncludes={"var":includes["var"],ModulesBaudRate:includes.ModulesBaudRate};Blockly.Kidtronics.ORDER_ATOMIC=0;Blockly.Kidtronics.ORDER_UNARY_POSTFIX=1;Blockly.Kidtronics.ORDER_UNARY_PREFIX=2;Blockly.Kidtronics.ORDER_MULTIPLICATIVE=3;Blockly.Kidtronics.ORDER_ADDITIVE=4;Blockly.Kidtronics.ORDER_SHIFT=5;Blockly.Kidtronics.ORDER_RELATIONAL=6;Blockly.Kidtronics.ORDER_EQUALITY=7;Blockly.Kidtronics.ORDER_BITWISE_AND=8;Blockly.Kidtronics.ORDER_BITWISE_XOR=9;
Blockly.Kidtronics.ORDER_BITWISE_OR=10;Blockly.Kidtronics.ORDER_LOGICAL_AND=11;Blockly.Kidtronics.ORDER_LOGICAL_OR=12;Blockly.Kidtronics.ORDER_CONDITIONAL=13;Blockly.Kidtronics.ORDER_ASSIGNMENT=14;Blockly.Kidtronics.ORDER_NONE=99;
Blockly.Kidtronics.init=function(a){Blockly.Kidtronics.definitionsAndIncludes_=Object.create(null);Blockly.Kidtronics.setups_=Object.create(null);Blockly.Kidtronics.variableDB_?Blockly.Kidtronics.variableDB_.reset():Blockly.Kidtronics.variableDB_=new Blockly.Names(Blockly.Kidtronics.RESERVED_WORDS_);Blockly.Kidtronics.variableDB_.setVariableMap(a.getVariableMap());var b=[];a.getAllVariables().forEach(function(a){b.push("var "+a.name+";\n")});Blockly.Kidtronics.definitionsAndIncludes_.variables=b.join("\n")};
Blockly.Kidtronics.finish=function(a){a="  "+a.replace(/\n/g,"\n  ");a=a.replace(/\n\s+$/,"\n");a="void loop() {\n"+a+"\n}";var b=[],c=[],d;for(d in Blockly.Kidtronics.definitionsAndIncludes_){var e=Blockly.Kidtronics.definitionsAndIncludes_[d];e.match(/^#include/)?b.push(e):c.push(e)}for(d in Blockly.Kidtronics.DeveloperIncludes)b.push(Blockly.Kidtronics.DeveloperIncludes[d]);e=[];for(d in Blockly.Kidtronics.setups_)e.push(Blockly.Kidtronics.setups_[d]);return(b.join("\n")+"\n\n"+c.join("\n")+"\nvoid setup() \n{\n  "+
e.join("\n  ")+"\n}\n\n").replace(/\n\n+/g,"\n\n").replace(/\n*$/,"\n\n\n")+a};Blockly.Kidtronics.scrubNakedValue=function(a){return a+";\n"};Blockly.Kidtronics.quote_=function(a){a=a.replace(/\\/g,"\\\\").replace(/\n/g,"\\\n").replace(/\$/g,"\\$").replace(/'/g,"\\'");return'"'+a+'"'};
Blockly.Kidtronics.scrub_=function(a,b){if(null===b)return"";var c="";if(!a.outputConnection||!a.outputConnection.targetConnection){var d=a.getCommentText();d&&(c+=Blockly.Kidtronics.prefixLines(d,"// ")+"\n");for(var e=0;e<a.inputList.length;e++)a.inputList[e].type==Blockly.INPUT_VALUE&&(d=a.inputList[e].connection.targetBlock())&&(d=Blockly.Kidtronics.allNestedComments(d))&&(c+=Blockly.Kidtronics.prefixLines(d,"// "))}e=a.nextConnection&&a.nextConnection.targetBlock();e=Blockly.Kidtronics.blockToCode(e);
return c+b+e};Blockly.Kidtronics.core={};Blockly.Kidtronics.core_delay=function(){return"delay("+(Blockly.Kidtronics.valueToCode(this,"DELAY_TIME",Blockly.Kidtronics.ORDER_ATOMIC)||"1000")+");\n"};module.exports={"var":'#include "var.h"',ModulesBaudRate:'#include "ModulesBaudRate.h"',LEDArrayConnection:'#include "LEDArrayConnection.h"'};Blockly.Kidtronics.logic={};
Blockly.Kidtronics.controls_if=function(){var a=0,b=Blockly.Kidtronics.valueToCode(this,"IF"+a,Blockly.Kidtronics.ORDER_NONE)||"false",c=Blockly.Kidtronics.statementToCode(this,"DO"+a),d="if ("+b+") {\n"+c+"\n}";for(a=1;a<=this.elseifCount_;a++)b=Blockly.Kidtronics.valueToCode(this,"IF"+a,Blockly.Kidtronics.ORDER_NONE)||"false",c=Blockly.Kidtronics.statementToCode(this,"DO"+a),d+=" else if ("+b+") {\n"+c+"}";this.elseCount_&&(c=Blockly.Kidtronics.statementToCode(this,"ELSE"),d+=" else {\n"+c+"\n}");
return d+"\n"};Blockly.Kidtronics.logic_compare=function(){var a=this.getFieldValue("OP");a=Blockly.Kidtronics.logic_compare.OPERATORS[a];var b="=="==a||"!="==a?Blockly.Kidtronics.ORDER_EQUALITY:Blockly.Kidtronics.ORDER_RELATIONAL,c=Blockly.Kidtronics.valueToCode(this,"A",b)||"0",d=Blockly.Kidtronics.valueToCode(this,"B",b)||"0";return[c+" "+a+" "+d,b]};Blockly.Kidtronics.logic_compare.OPERATORS={EQ:"==",NEQ:"!=",LT:"<",LTE:"<=",GT:">",GTE:">="};
Blockly.Kidtronics.logic_operation=function(){var a="AND"==this.getFieldValue("OP")?"&&":"||",b="&&"==a?Blockly.Kidtronics.ORDER_LOGICAL_AND:Blockly.Kidtronics.ORDER_LOGICAL_OR,c=Blockly.Kidtronics.valueToCode(this,"A",b)||"false",d=Blockly.Kidtronics.valueToCode(this,"B",b)||"false";return[c+" "+a+" "+d,b]};Blockly.Kidtronics.logic_negate=function(){var a=Blockly.Kidtronics.ORDER_UNARY_PREFIX;return["!"+(Blockly.Kidtronics.valueToCode(this,"BOOL",a)||"false"),a]};
Blockly.Kidtronics.logic_boolean=function(){return["TRUE"==this.getFieldValue("BOOL")?"true":"false",Blockly.Kidtronics.ORDER_ATOMIC]};Blockly.Kidtronics.logic_null=function(){return["NULL",Blockly.Kidtronics.ORDER_ATOMIC]};
Blockly.Kidtronics.loops={};
Blockly.Kidtronics.controls_repeat_ext=function(a){var b=a.getField("TIMES")?String(Number(a.getFieldValue("TIMES"))):Blockly.Kidtronics.valueToCode(a,"TIMES",Blockly.Kidtronics.ORDER_ASSIGNMENT)||"0",c=Blockly.Kidtronics.statementToCode(a,"DO");c=Blockly.Kidtronics.addLoopTrap(c,a.id);a="";var d=Blockly.Kidtronics.variableDB_.getDistinctName("count",Blockly.Variables.NAME_TYPE),e=b;b.match(/^\w+$/)||Blockly.isNumber(b)||(e=Blockly.Kidtronics.variableDB_.getDistinctName("repeat_end",Blockly.Variables.NAME_TYPE),
a+="var "+e+" = "+b+";\n");return a+("for (var "+d+" = 0; "+d+" < "+e+"; "+d+"++) {\n"+c+"}\n")};Blockly.Kidtronics.controls_repeat=Blockly.Kidtronics.controls_repeat_ext;
Blockly.Kidtronics.controls_whileUntil=function(a){var b="UNTIL"==a.getFieldValue("MODE"),c=Blockly.Kidtronics.valueToCode(a,"BOOL",b?Blockly.Kidtronics.ORDER_LOGICAL_NOT:Blockly.Kidtronics.ORDER_NONE)||"false",d=Blockly.Kidtronics.statementToCode(a,"DO");d=Blockly.Kidtronics.addLoopTrap(d,a.id);b&&(c="!"+c);return"while ("+c+") {\n"+d+"}\n"};
Blockly.Kidtronics.controls_for=function(a){var b=Blockly.Kidtronics.variableDB_.getName(a.getFieldValue("VAR"),Blockly.Variables.NAME_TYPE),c=Blockly.Kidtronics.valueToCode(a,"FROM",Blockly.Kidtronics.ORDER_ASSIGNMENT)||"0",d=Blockly.Kidtronics.valueToCode(a,"TO",Blockly.Kidtronics.ORDER_ASSIGNMENT)||"0",e=Blockly.Kidtronics.valueToCode(a,"BY",Blockly.Kidtronics.ORDER_ASSIGNMENT)||"1",g=Blockly.Kidtronics.statementToCode(a,"DO");g=Blockly.Kidtronics.addLoopTrap(g,a.id);if(Blockly.isNumber(c)&&Blockly.isNumber(d)&&
Blockly.isNumber(e)){var f=parseFloat(c)<=parseFloat(d);a="for ("+b+" = "+c+"; "+b+(f?" <= ":" >= ")+d+"; "+b;b=Math.abs(parseFloat(e));a=(1==b?a+(f?"++":"--"):a+((f?" += ":" -= ")+b))+(") {\n"+g+"}\n")}else a="",f=c,c.match(/^\w+$/)||Blockly.isNumber(c)||(f=Blockly.Kidtronics.variableDB_.getDistinctName(b+"_start",Blockly.Variables.NAME_TYPE),a+="var "+f+" = "+c+";\n"),c=d,d.match(/^\w+$/)||Blockly.isNumber(d)||(c=Blockly.Kidtronics.variableDB_.getDistinctName(b+"_end",Blockly.Variables.NAME_TYPE),
a+="var "+c+" = "+d+";\n"),d=Blockly.Kidtronics.variableDB_.getDistinctName(b+"_inc",Blockly.Variables.NAME_TYPE),a+="var "+d+" = ",a=Blockly.isNumber(e)?a+(Math.abs(e)+";\n"):a+("Math.abs("+e+");\n"),a=a+("if ("+f+" > "+c+") {\n")+(Blockly.Kidtronics.INDENT+d+" = -"+d+";\n"),a+="}\n",a+="for ("+b+" = "+f+"; "+d+" >= 0 ? "+b+" <= "+c+" : "+b+" >= "+c+"; "+b+" += "+d+") {\n"+g+"}\n";return a};
Blockly.Kidtronics.controls_forEach=function(a){var b=Blockly.Kidtronics.variableDB_.getName(a.getFieldValue("VAR"),Blockly.Variables.NAME_TYPE),c=Blockly.Kidtronics.valueToCode(a,"LIST",Blockly.Kidtronics.ORDER_ASSIGNMENT)||"[]",d=Blockly.Kidtronics.statementToCode(a,"DO");d=Blockly.Kidtronics.addLoopTrap(d,a.id);a="";var e=c;c.match(/^\w+$/)||(e=Blockly.Kidtronics.variableDB_.getDistinctName(b+"_list",Blockly.Variables.NAME_TYPE),a+="var "+e+" = "+c+";\n");c=Blockly.Kidtronics.variableDB_.getDistinctName(b+
"_index",Blockly.Variables.NAME_TYPE);d=Blockly.Kidtronics.INDENT+b+" = "+e+"["+c+"];\n"+d;return a+("for (var "+c+" in "+e+") {\n"+d+"}\n")};Blockly.Kidtronics.controls_flow_statements=function(a){switch(a.getFieldValue("FLOW")){case "BREAK":return"break;\n";case "CONTINUE":return"continue;\n"}throw"Unknown flow statement.";};Blockly.Kidtronics.math={};Blockly.Kidtronics.math_number=function(){var a=window.parseFloat(this.getFieldValue("NUM"));return[a,0>a?Blockly.Kidtronics.ORDER_UNARY_PREFIX:Blockly.Kidtronics.ORDER_ATOMIC]};Blockly.Kidtronics.math_arithmetic=function(){var a=this.getFieldValue("OP"),b=Blockly.Kidtronics.math_arithmetic.OPERATORS[a];a=b[0];b=b[1];var c=Blockly.Kidtronics.valueToCode(this,"A",b)||"0",d=Blockly.Kidtronics.valueToCode(this,"B",b)||"0";return a?[c+a+d,b]:["Math.pow("+c+", "+d+")",Blockly.Kidtronics.ORDER_UNARY_POSTFIX]};
Blockly.Kidtronics.math_arithmetic.OPERATORS={ADD:[" + ",Blockly.Kidtronics.ORDER_ADDITIVE],MINUS:[" - ",Blockly.Kidtronics.ORDER_ADDITIVE],MULTIPLY:[" * ",Blockly.Kidtronics.ORDER_MULTIPLICATIVE],DIVIDE:[" / ",Blockly.Kidtronics.ORDER_MULTIPLICATIVE],POWER:[null,Blockly.Kidtronics.ORDER_NONE]};Blockly.Kidtronics.output={};includes=require("../blockly/generators/Kidtronics/includes.js");var setupLedArrayConnection=function(){Blockly.Kidtronics.definitionsAndIncludes_.LEDArrayConnectionInclude=includes.LEDArrayConnection;Blockly.Kidtronics.definitionsAndIncludes_.LEDArrayConnectionDefinition="LEDArrayConnection ledConnection;";Blockly.Kidtronics.setups_.Serial="Serial.begin(LED_ARRAY_BAUD_RATE);";Blockly.Kidtronics.setups_.LEDArrayConnection="ledConnection.setSerial(&Serial);"};
Blockly.Kidtronics.output_turn_on_num_leds=function(a){var b=Blockly.Kidtronics.valueToCode(a,"NUM",Blockly.Kidtronics.ORDER_ATOMIC)||0;a="LEFT"===a.getFieldValue("DIRECTION_DROPDOWN")?"LEDArrayConnection::LEFT":"LEDArrayConnection::RIGHT";setupLedArrayConnection();return"ledConnection.setNumberOfLEDsOnWithVar("+b+", "+a+");\n"};
Blockly.Kidtronics.output_turn_on_led_at_index=function(a){var b=Blockly.Kidtronics.valueToCode(a,"LED_INDEX",Blockly.Kidtronics.ORDER_ATOMIC)||0;a=Blockly.Kidtronics.valueToCode(a,"LED_STATE",Blockly.Kidtronics.ORDER_ATOMIC)||"false";setupLedArrayConnection();return"ledConnection.setLEDStateWithVar("+b+", "+a+");\n"};
Blockly.Kidtronics.output_led_array=function(a){setupLedArrayConnection();for(var b="ledConnection.setLEDState(0b",c=0;8>c;c++)b+="TRUE"===a.getFieldValue("BUTTON_"+c)?"1":"0";return b+");\n"};Blockly.Kidtronics.output_digital_voltage=function(a){return[a.getFieldValue("VOLTAGE_DROPDOWN"),Blockly.Kidtronics.ORDER_ATOMIC]};Blockly.Kidtronics.output_on_off=function(a){return["ON"===a.getFieldValue("ON_OFF_DROPDOWN")?"true":"false",Blockly.Kidtronics.ORDER_ATOMIC]};Blockly.Kidtronics.variables={};Blockly.Kidtronics.variables_get=function(){return[Blockly.Kidtronics.variableDB_.getName(this.getFieldValue("VAR"),Blockly.Variables.NAME_TYPE),Blockly.Kidtronics.ORDER_ATOMIC]};
Blockly.Kidtronics.variables_declare=function(){this.getFieldValue("TYPE");var a=Blockly.Kidtronics.valueToCode(this,"VALUE",Blockly.Kidtronics.ORDER_ASSIGNMENT)||"0",b=Blockly.Kidtronics.variableDB_.getName(this.getFieldValue("VAR"),Blockly.Variables.NAME_TYPE);Blockly.Kidtronics.setups_["setup_var"+b]=b+" = "+a+";\n";return""};
Blockly.Kidtronics.variables_set=function(){var a=Blockly.Kidtronics.valueToCode(this,"VALUE",Blockly.Kidtronics.ORDER_ASSIGNMENT)||"0";return Blockly.Kidtronics.variableDB_.getName(this.getFieldValue("VAR"),Blockly.Variables.NAME_TYPE)+" = "+a+";\n"};